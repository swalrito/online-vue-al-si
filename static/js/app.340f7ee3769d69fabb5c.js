webpackJsonp([3],{"4JZ0":function(e,t){},"7wy6":function(e,t){},Cdi0:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),s={name:"App",components:{index:a("dAjm").default}},n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var p=a("VU/8")(s,n,!1,function(e){a("cAPz")},null,null).exports,r=a("epGn"),o=a.n(r),c=(a("qbEQ"),a("zO6J"));i.default.use(c.a);var l,d=new c.a({routes:[{path:"/",name:"index",redirect:"/chart",component:function(){return new Promise(function(e){e()}).then(a.bind(null,"dAjm"))},children:[{path:"/chart",name:"chart",component:function(){return a.e(0).then(a.bind(null,"plmt"))}},{path:"/data",name:"showData",component:function(){return a.e(1).then(a.bind(null,"s0vW"))}}]}]}),m=(a("briU"),a("9rMa")),h=a("bOdI"),f=a.n(h),T={state:{dialogShow:!1},mutations:f()({},"TRIGGLE_DIALOG",function(e,t){e.dialogShow=t})},u={state:{chartOption:{legend:{data:[],show:!0},toolbox:{show:!0,feature:{saveAsImage:{show:!0}}},dataZoom:[{type:"inside"},{type:"slider",show:!0,start:0,end:100}],tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},xAxis:[{type:"category",data:[],name:"时间(s)",axisLabel:{interval:3119},axisTick:{interval:3119}}],yAxis:[{name:"温度(t)",type:"value"},{name:"dT/dt",type:"value"}],series:[]},potential:[],temp:[],dfTemp:[],index:0,chartIndex:0,dataTable:[],changeIndex:0},mutations:(l={},f()(l,"READ_FILE",function(e,t){var a=t.potential;e.potential=a}),f()(l,"SET_XAXIS",function(e,t){var a=t.xAxis;e.index++,e.chartIndex+=2;var i=a.length;if(!((i=parseInt(i))<e.chartOption.xAxis[0].data.length)){for(var s=(i/80).toFixed(),n=[],p=0;p<s;p++)for(var r=0;r<80;r++){var o=.0125*r+p;o=o.toFixed(4),n.push(o)}e.chartOption.xAxis[0].data=n}}),f()(l,"SET_TEMP",function(e,t){var a=t.potential;e.temp=[],e.dfTemp=[];var i=e.temp,s=e.dfTemp;e.potential=a,a.forEach(function(e){e=(e=.0659+24.9829*(e=parseFloat(e))-.0365*e*e).toFixed(2),e=parseFloat(e),i.push(e)});for(var n=0;n<i.length;n++){var p=(i[n+80]-i[n])/1;p=p.toFixed(2),p=parseFloat(p),s.push(p)}for(var r=[],o=0;o<s.length;o++){if(o>=4){var c=(s[o-4]+s[o-3]+s[o-2]+s[o-1]+s[o]+s[o+1]+s[o+2]+s[o+3]+s[o+4])/9;c=c.toFixed(2),c=parseFloat(c),r.push(c)}else switch(o){case 0:var l=s[o];l=l.toFixed(2),l=parseFloat(l),r.push(l);break;case 1:var d=(s[o-1]+s[o]+s[o+1])/3;d=d.toFixed(2),d=parseFloat(d),r.push(d);break;case 2:var m=(s[o-2]+s[o-1]+s[o]+s[o+1]+s[o+2])/5;m=m.toFixed(2),m=parseFloat(m),r.push(m);break;case 3:var h=(s[o-3]+s[o-2]+s[o-1]+s[o]+s[o+1]+s[o+2]+s[o+3])/7;h=h.toFixed(2),h=parseFloat(h),r.push(h)}this.dfTemp=r}var f="温度曲线"+e.index,T="微分曲线"+e.index;e.chartOption.legend.data.push(f),e.chartOption.legend.data.push(T);var u={name:f,data:i};e.dataTable.push(u);var v={type:"line",name:""+f,data:[]},g={type:"line",name:""+T,data:[],yAxisIndex:1};e.chartOption.series.push(v),e.chartOption.series.push(g),e.chartOption.series[e.chartIndex-2].data=i,e.chartOption.series[e.chartIndex-1].data=s,e.changeIndex++}),f()(l,"CLEAR_DATA",function(e){e.chartOption.xAxis[0].data=[],e.chartOption.series=[],e.chartOption.legend.data=[],e.chartIndex=0,e.index=0,e.dataTable=[],e.changeIndex++}),l),getters:{getChange:function(e){return e.changeIndex}}};i.default.use(m.a);var v=new m.a.Store({modules:{result:T,chart:u}});i.default.config.productionTip=!1,i.default.use(o.a),new i.default({el:"#app",router:d,store:v,components:{App:p},template:"<App/>"})},cAPz:function(e,t){},chJ9:function(e,t){},dAjm:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"top"},[t("p",{staticClass:"name"},[this._v("铝硅合金热处理分析系统")])])}]};var s=a("VU/8")({},i,!1,function(e){a("chJ9")},null,null).exports,n={data:function(){return{dialogFormVisible:!1}},methods:{readFile:function(){var e=this.$refs.file.files[0],t=new FileReader;t.readAsText(e);var a=this;t.onload=function(){var e=t.result.split("\r");a.getData(e)}},getData:function(e){var t=[],a=[];e.forEach(function(e){var i=e.split("\t");t.push(i[1]),a.push(i[2])}),this.$store.commit("SET_XAXIS",{xAxis:t}),this.$store.commit("SET_TEMP",{potential:a})},selectFile:function(){this.$refs.file.click()},goData:function(){this.$router.push("/data")},showResult:function(){this.$store.commit("TRIGGLE_DIALOG",!0)},showDfData:function(){this.$store.commit("COMPUTE_DIFF")},clearChart:function(){this.$store.commit("CLEAR_DATA")}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"nav"},[a("input",{ref:"file",staticClass:"fileEle",attrs:{type:"file"},on:{change:e.readFile}}),e._v(" "),a("el-button",{staticClass:"selectFile",attrs:{type:"info",round:"",icon:"el-icon-upload"},on:{click:e.selectFile}},[e._v("选择文件")]),e._v(" "),a("el-button",{staticClass:"showData",attrs:{type:"info",round:"",icon:"el-icon-document"},on:{click:e.goData}},[e._v("显示数据")]),e._v(" "),a("el-button",{staticClass:"showModifier",attrs:{type:"info",round:"",icon:"el-icon-info"},on:{click:e.showResult}},[e._v("变质效果")]),e._v(" "),a("el-button",{staticClass:"selectFile",attrs:{type:"info",round:"",icon:"el-icon-delete"},on:{click:e.clearChart}},[e._v("清除数据")])],1)},staticRenderFns:[]};var r=a("VU/8")(n,p,!1,function(e){a("sqZz")},null,null).exports,o={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"footer"},[t("p",[this._v("by   中北大学铸造研究中心")])])}]};var c=a("VU/8")({},o,!1,function(e){a("4JZ0")},null,null).exports,l=a("Dd8w"),d=a.n(l),m=a("9rMa"),h={data:function(){return{result:[],cjTempMin1:"",cjTempMax1:"",cjTempMin2:"",cjTempMax2:"",gjTempMin1:"",gjTempMax1:"",gjTempMin2:"",gjTempMax2:"",gjBegin1:"",gjBegin2:"",gjFinish1:"",gjFinish2:""}},computed:d()({},Object(m.c)({dialog:function(e){return e.result.dialogShow},dataDB:function(e){return e.chart.dataTable}}),Object(m.b)(["getChange"])),watch:{getChange:function(){this.pushResult()}},methods:{getDfTemp:function(e){for(var t=[],a=0;a<e.length;a++){var i=(e[a+80]-e[a])/1;i=i.toFixed(2),i=parseFloat(i),t.push(i)}for(var s=[],n=0;n<e.length;n++)if(n>=4){var p=(t[n-4]+t[n-3]+t[n-2]+t[n-1]+t[n]+t[n+1]+t[n+2]+t[n+3]+t[n+4])/9;p=p.toFixed(2),p=parseFloat(p),s.push(p)}else switch(n){case 0:var r=t[n];r=r.toFixed(2),r=parseFloat(r),s.push(r);break;case 1:var o=(t[n-1]+t[n]+t[n+1])/3;o=o.toFixed(2),o=parseFloat(o),s.push(o);break;case 2:var c=(t[n-2]+t[n-1]+t[n]+t[n+1]+t[n+2])/5;c=c.toFixed(2),c=parseFloat(c),s.push(c);break;case 3:var l=(t[n-3]+t[n-2]+t[n-1]+t[n]+t[n+1]+t[n+2]+t[n+3])/7;l=l.toFixed(2),l=parseFloat(l),s.push(l)}return s},hiddenDialog:function(){this.$store.commit("TRIGGLE_DIALOG",!1)},pushResult:function(){this.result=[],this.cjTempMin1=0,this.cjTempMax1=0,this.cjTempMin2=0,this.cjTempMax2=0,this.gjTempMin1=0,this.gjTempMax1=0,this.gjTempMin2=0,this.gjTempMax2=0,this.gjBegin1=0,this.gjBegin2=0,this.gjFinish1=0,this.gjFinish2=0;for(var e=Math.floor(this.dataDB.length/2),t=0;t<e;t++){var a={};a.name1=this.dataDB[2*t].name,a.name2=this.dataDB[2*t+1].name;var i=this.dataDB[2*t].data,s=this.dataDB[2*t+1].data;a.dfTemp1=this.getDfTemp(this.dataDB[2*t].data),a.dfTemp2=this.getDfTemp(this.dataDB[2*t+1].data);for(var n=0,p=0;p<3600;p++)if(a.dfTemp1[p]<0){n=p;break}for(var r=0,o=0;o<3600;o++)if(a.dfTemp2[o]<0){r=o;break}for(var c=void 0,l=void 0,d=n;d<3600;d++)if(a.dfTemp1[d]>=0&&a.dfTemp1[d+1]>=0&&a.dfTemp1[d+2]>=0&&a.dfTemp1[d+3]>=0){this.cjTempMin1=i[d],c=d,console.log("初晶最低温度1："+this.cjTempMin1);break}for(var m=r;m<3600;m++)if(a.dfTemp2[m]>=0&&a.dfTemp2[m+1]>=0&&a.dfTemp2[m+2]>=0&&a.dfTemp2[m+3]>=0){this.cjTempMin2=s[m],l=m,console.log("初晶最低温度2："+this.cjTempMin2);break}a.cjTempMin1=this.cjTempMin1,a.cjTempMin2=this.cjTempMin2;for(var h=c;h<3600;h++)if(a.dfTemp1[h]<=0&&a.dfTemp1[h+1]<=0&&a.dfTemp1[h+2]<=0&&a.dfTemp1[h+3]<=0&&a.dfTemp1[h+4]<=0&&a.dfTemp1[h+5]<=0&&a.dfTemp1[h+6]<=0&&a.dfTemp1[h+7]<=0&&a.dfTemp1[h+8]<=0&&a.dfTemp1[h+9]<=0){this.cjTempMax1=i[h],console.log("初晶生长温度1："+this.cjTempMax1);break}for(var f=l;f<3600;f++)if(a.dfTemp2[f]<=0&&a.dfTemp2[f+1]<=0&&a.dfTemp2[f+2]<=0&&a.dfTemp2[f+3]<=0&&a.dfTemp2[f+4]<=0&&a.dfTemp2[f+5]<=0&&a.dfTemp2[f+6]<=0&&a.dfTemp2[f+7]<=0&&a.dfTemp2[f+8]<=0&&a.dfTemp2[f+9]<=0){this.cjTempMax2=s[f],console.log("初晶生长温度2："+this.cjTempMax2);break}a.cjTempMax1=this.cjTempMax1,a.cjTempMax2=this.cjTempMax2,a.cjTemp1=this.cjTempMax1-this.cjTempMin1,a.cjTemp2=this.cjTempMax2-this.cjTempMin2,a.cjTemp1=Math.abs(a.cjTemp1),a.cjTemp2=Math.abs(a.cjTemp2),a.cjTemp1=a.cjTemp1.toFixed(2),a.cjTemp2=a.cjTemp2.toFixed(2);for(var T=void 0,u=void 0,v=3600;v<a.dfTemp1.length;v++)if(a.dfTemp1[v]>=0&&a.dfTemp1[v+1]>=0&&a.dfTemp1[v+2]>=0&&a.dfTemp1[v+3]>=0&&a.dfTemp1[v+4]>=0&&a.dfTemp1[v+5]>=0&&a.dfTemp1[v+6]>=0){T=v,this.gjTempMin1=i[v],console.log("共晶生长温度1："+this.gjTempMin1);break}for(var g=3600;g<a.dfTemp2.length;g++)if(a.dfTemp2[g]>=0&&a.dfTemp2[g+1]>=0&&a.dfTemp2[g+2]>=0&&a.dfTemp2[g+3]>=0&&a.dfTemp2[g+4]>=0&&a.dfTemp2[g+5]>=0&&a.dfTemp2[g+6]>=0){this.gjTempMin2=s[g],this.gjBegin1=.0125*g,console.log("共晶生长温度1："+this.gjTempMin2),u=g;break}a.tempMin1=this.gjTempMin1,a.tempMin2=this.gjTempMin2;for(var _=T;_<a.dfTemp1.length;_++)if(a.dfTemp1[_]<=0&&a.dfTemp1[_+2]<=0&&a.dfTemp1[_+3]<=0&&a.dfTemp1[_+4]<=0&&a.dfTemp1[_+5]<=0&&a.dfTemp1[_+6]<=0&&a.dfTemp1[_+7]<=0&&a.dfTemp1[_+8]<=0&&a.dfTemp1[_+9]<=0){this.gjTempMax1=i[_],this.gjBegin2=.0125*_,console.log("共晶温度1："+this.gjTempMax1);break}for(var j=u;j<a.dfTemp2.length;j++)if(a.dfTemp2[j]<=0&&a.dfTemp2[j+2]<=0&&a.dfTemp2[j+3]<=0&&a.dfTemp2[j+4]<=0&&a.dfTemp2[j+5]<=0&&a.dfTemp2[j+6]<=0&&a.dfTemp2[j+7]<=0&&a.dfTemp2[j+8]<=0&&a.dfTemp2[j+9]<=0){this.gjTempMax2=s[j],console.log("共晶温度2："+this.gjTempMax2);break}a.gjTemp1=this.gjTempMax1,a.gjTemp2=this.gjTempMax2,a.zhTemp1=this.gjTempMax1-this.gjTempMin1,a.zhTemp2=this.gjTempMax2-this.gjTempMin2,a.zhTemp1=Math.abs(a.zhTemp1),a.zhTemp2=Math.abs(a.zhTemp2),a.zhTemp1=a.zhTemp1.toFixed(2),a.zhTemp2=a.zhTemp2.toFixed(2),a.gld=a.gjTemp2-a.gjTemp1,a.gld=Math.abs(a.gld),a.gld=a.gld.toFixed(2),a.gld<4?a.result="变质不足":a.gld>=4&&a.gld<=7?a.result="变质中等":a.gld>7&&(a.result="变质良好"),this.result.push(a)}}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"result"},[a("el-dialog",{attrs:{title:"变质效果",visible:e.dialog},on:{"update:visible":function(t){e.dialog=t}}},[e._l(e.result,function(t){return a("div",{key:t.gjTemp},[a("p",[e._v(e._s(t.name1)+","+e._s(t.name2)+" 特征值：")]),e._v(" "),a("p",[e._v("未变质最低初晶温度:"),a("span",{staticClass:"item"},[e._v(e._s(t.cjTempMin1))]),e._v("，变质最低初晶温度:"),a("span",{staticClass:"item"},[e._v(e._s(t.cjTempMin2))])]),e._v(" "),a("p",[e._v("未变质初晶生长温度:"),a("span",{staticClass:"item"},[e._v(e._s(t.cjTempMax1))]),e._v("，变质初晶生长温度:"),a("span",{staticClass:"item"},[e._v(e._s(t.cjTempMax2))])]),e._v(" "),a("p",[e._v("未变质初晶再辉温升:"),a("span",{staticClass:"item"},[e._v(e._s(t.cjTemp1))]),e._v("，变质初晶再辉温升:"),a("span",{staticClass:"item"},[e._v(e._s(t.cjTemp2))])]),e._v(" "),a("p",[e._v("未变质共晶温度:"),a("span",{staticClass:"item"},[e._v(e._s(t.gjTemp1))]),e._v("，变质共晶温度:"),a("span",{staticClass:"item"},[e._v(e._s(t.gjTemp2))])]),e._v(" "),a("p",[e._v("未变质最低共晶温度:"),a("span",{staticClass:"item"},[e._v(e._s(t.tempMin1))]),e._v("，变质最低共晶温度:"),a("span",{staticClass:"item"},[e._v(e._s(t.tempMin2))])]),e._v(" "),a("p",[e._v("未变质共晶再辉温升:"),a("span",{staticClass:"item"},[e._v(e._s(t.zhTemp1))]),e._v("，变质共晶再辉温升:"),a("span",{staticClass:"item"},[e._v(e._s(t.zhTemp2))])]),e._v(" "),a("p",[e._v("共晶温度差:"),a("span",{staticClass:"item"},[e._v(e._s(t.gld))])]),e._v(" "),a("p",[e._v("变质效果:"),a("span",{staticClass:"item"},[e._v(e._s(t.result))])]),e._v(" "),a("p",[e._v("---------------------------------------")])])}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.hiddenDialog()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.hiddenDialog}},[e._v("确 定")])],1)],2)],1)},staticRenderFns:[]};var T={components:{top:s,side:r,foot:c,result:a("VU/8")(h,f,!1,function(e){a("7wy6")},null,null).exports}},u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrap"},[t("result"),this._v(" "),t("el-container",[t("el-header",[t("top")],1),this._v(" "),t("el-container",[t("el-aside",[t("side")],1),this._v(" "),t("el-main",[t("router-view")],1)],1),this._v(" "),t("el-container",[t("el-footer",[t("foot")],1)],1)],1)],1)},staticRenderFns:[]};var v=a("VU/8")(T,u,!1,function(e){a("Cdi0")},null,null);t.default=v.exports},qbEQ:function(e,t){},sqZz:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.340f7ee3769d69fabb5c.js.map